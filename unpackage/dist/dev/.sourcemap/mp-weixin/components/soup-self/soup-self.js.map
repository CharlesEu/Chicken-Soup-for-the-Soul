{"version":3,"file":"soup-self.js","sources":["components/soup-self/soup-self.vue","../前端资料/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvREVMTC9EZXNrdG9wL2NoaWNrZW5zb3VwL2NvbXBvbmVudHMvc291cC1zZWxmL3NvdXAtc2VsZi52dWU"],"sourcesContent":["<template>\n\t<view class=\"pages\">\n\t\t<z-paging ref=\"paging\" safe-area-inset-bottom v-model=\"soupData\" @query=\"queryList\">\n\t\t\t<template #loading>\n\t\t\t\t<uni-load-more status=\"loading\"></uni-load-more>\n\t\t\t</template>\n\t\t\t\t\t\t\n\t\t\t<view class=\"list\">\n\t\t\t\t<view class=\"item\" v-for=\"item in soupData\" :key=\"item._id\">\n\t\t\t\t\t<soup-item :item=\"item\" :isEdit=\"false\" v-if=\"!item.ad\"></soup-item>\n\t\t\t\t\t<view v-else class=\"wxAd\">\n\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\t\t\t\t\t\t\n\t\t\t\t\t\t<ad unit-id=\"adunit-3e2ae9dacbcb600d\" ad-type=\"video\" ad-theme=\"white\"></ad>\n\t\t\t\t\t\t<!-- #endif -->\t\t\t\t\t\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</z-paging>\n\t</view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { showToast } from '../../utils/common';\nconst soupData = ref([]);\nconst paging = ref(null);\nconst db = uniCloud.database();\n\nconst queryList = (pageNo, pageSize)=>{\n\tgetSoupList(pageNo, pageSize);\n}\n\nconst getSoupList =async (pageNo, pageSize)=>{\n\tlet likeTemp = db.collection(\"soup-like\").where(`user_id == $cloudEnv_uid`).getTemp();\n\tlet soupTemp = db.collection(\"soup-chicken\").field(\"_id,content,like_count,collect_count,comment_count,soup_type,status\").getTemp();\n\tlet {result:{errCode,data}}= await db.collection(likeTemp,soupTemp).field(`\t\t\n\t\tcreate_date as publish_date,\n\t\tarrayElemAt(soup_id._id, 0) as _id,\n\t\tarrayElemAt(soup_id.content, 0) as content,\n\t\tarrayElemAt(soup_id.like_count, 0) as like_count,\n\t\tarrayElemAt(soup_id.collect_count, 0) as collect_count,\n\t\tarrayElemAt(soup_id.comment_count, 0) as comment_count,\n\t\tarrayElemAt(soup_id.soup_type, 0) as soup_type,\n\t\tarrayElemAt(soup_id.status, 0) as status\n\t`).orderBy(\"publish_date\",\"desc\").get();\n\tif(errCode!=0) return showToast(\"操作有误\");\n\t\n\tif(data.length>3) data.splice(3,0,{ad:true});\n\tpaging.value.complete(data);\n\t\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.pages{\n\t.list{\n\t\tpadding:30rpx 30rpx 0;\n\t}\n}\n</style>","import Component from 'C:/Users/DELL/Desktop/chickensoup/components/soup-self/soup-self.vue'\nwx.createComponent(Component)"],"names":["ref","uniCloud","showToast"],"mappings":";;;;;;;;;;;;;;;;;;AAwBA,UAAM,WAAWA,cAAAA,IAAI,CAAA,CAAE;AACvB,UAAM,SAASA,cAAAA,IAAI,IAAI;AACvB,UAAM,KAAKC,cAAAA,GAAS;AAEpB,UAAM,YAAY,CAAC,QAAQ,aAAW;AACrC,kBAA4B;AAAA,IAC7B;AAEA,UAAM,cAAa,OAAO,QAAQ,aAAW;AAC5C,UAAI,WAAW,GAAG,WAAW,WAAW,EAAE,MAAM,0BAA0B,EAAE;AAC5E,UAAI,WAAW,GAAG,WAAW,cAAc,EAAE,MAAM,qEAAqE,EAAE;AAC1H,UAAI,EAAC,QAAO,EAAC,SAAQ,KAAI,EAAC,IAAG,MAAM,GAAG,WAAW,UAAS,QAAQ,EAAE,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASzE,EAAE,QAAQ,gBAAe,MAAM,EAAE,IAAG;AACrC,UAAG,WAAS;AAAG,eAAOC,aAAS,UAAC,MAAM;AAEtC,UAAG,KAAK,SAAO;AAAG,aAAK,OAAO,GAAE,GAAE,EAAC,IAAG,KAAI,CAAC;AAC3C,aAAO,MAAM,SAAS,IAAI;AAAA,IAE3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDA,GAAG,gBAAgB,SAAS;"}